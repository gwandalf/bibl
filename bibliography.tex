\documentclass[11pt]{article}
\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{comment}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}


%numeroter les pages
\pagestyle{plain}


\begin{document}

\begin{titlepage}

\begin{center}

% Upper part of the page

 

\includegraphics[width=0.8\textwidth]{res/header}\\[1cm]
\textsc{\Large Master research Internship}
\vspace{1cm}


\includegraphics[width=0.09\textwidth]{res/insa-rennes}

  
\vspace{1cm} 
\textsc{\Large Bibliographic report }\\[0.5cm]


% The title of your report
\HRule \\[0.4cm]
{ \Large \bfseries Sailor vs Poseidon: Enhancing Training Simulation in 3D Collaborative Virtual Environments }\\[0.4cm]

\HRule \\[1.5cm]
% The domain of your research 
%\textbf{KEEP  WITHIN THIS LIST (see model.tex) ONE OR TWO DOMAIN(S) THAT CORRESPOND(S) TO %YOUR INTERNSHIP - COMMENT OR REMOVE ALL THE OTHER ONES -}
\begin{flushleft}
\textbf{Domain : Technology for Human Learning, Human-Computer Interaction }
\end{flushleft}

\begin{comment}
Technology for Human Learning 
Artificial Intelligence 
Computer Arithmetic
Hardware Architecture
Automatic Control Engineering
Bioinformatics 
Biotechnology
Computational Complexity 
Computational Engineering, Finance, and Science
Computational Geometry 
Computation and Language 
Cryptography and Security 
Computer Vision and Pattern Recognition
Computers and Society 
Databases 
Distributed, Parallel, and Cluster Computing 
Digital Libraries
Discrete Mathematics 
Data Structures and Algorithms 
Embedded Systems 
Emerging Technologies 
Formal Languages and Automata Theory 
General Literature 
Graphics 
Computer Science and Game Theory 
Human-Computer Interaction 
Computer Aided Engineering 
Medical Imaging 
Information Retrieval 
Information Theory 
Ubiquitous Computing 
Machine Learning
Logic in Computer Science 
Multiagent Systems 
Mobile Computing
Multimedia
Modeling and Simulation 
Mathematical Software 
Numerical Analysis 
Neural and Evolutionary Computing 
Networking and Internet Architecture 
Operating Systems 
Performance 
Programming Languages 
Robotics 
Operations Research
Symbolic Computation 
Sound
Software Engineering 
Social and Information Networks 
Systems and Control 
Image Processing 
Signal and Image Processing 
Document and Text Processing
Web
\end{comment}
%
% Author and supervisor(s)
\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Author:}\\
Gwendal  \textsc{Le Moulec}
\end{flushleft}
\end{minipage}
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Supervisors:} \\
%
% name(s) of your supervisor(s)
Valérie \textsc{Gouranton } \\
Thi Thuong \textsc{Huyen Nguyen } \\
Fernando \textsc{Argelaguet}\\
Anatole \textsc{L\'ecuyer}\\
% Name of your team
Hybrid
\end{flushright}
\end{minipage}

\vfill


% INCLUDE HERE THE LOGO OF YOUR INSTITUTION
%\textbf{INSERT ``\%'' IN FRONT OF ALL THE LOGO YOU DO NOT NEED - A SINGLE ONE SHOULD %REMAIN AT THE BOTTOM OF THIS PAGE}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./supelec}\\
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./logoUbs}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./UBO}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./tel-br}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./rennes1}
\end{flushleft}
\begin{flushleft}
\includegraphics[width=0.09\textwidth]{res/insa-rennes}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./esir}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./enssat}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./ENS-Rennes}
\end{flushleft}
\begin{flushleft}
%\includegraphics[width=0.09\textwidth]{./logo_ENIB}
\end{flushleft}
\end{center}
\end{titlepage}



%************************************************************%

\begin{abstract}
Here should appear your abstract - Should be 15 lines long 
\end{abstract}

% compile twice to get the table of contents
\tableofcontents
\newpage

\setcounter{page}{1} 

%*****************************************************************%
\section{Introduction}
%Here start your document - Should be 15 pages long 
%Please do not hesitate to have a look at the bibliographic report included in this archive 

% contexte : définitions
% problématique : schéma de principe, énoncer clairement le sujet du stage
% annonce du plan (et de sa logique)

L'apprentissage humain est un des principaux champs d'application de la Réalité Virtuelle (RV). L'utilisation d'outils virtuels permet en effet de s'entraîner dans des conditions favorables et paramétrables avant de se confronter à des situations réelles, qui peuvent être trop risquées ou trop complexes pour un apprenti. Les opérations de maintenance de certaines pièces mécaniques peuvent par exemple s'avérer dangereuses pour une personne inexpérimentée, qui risque alors de se blesser gravement. Dans le cas d'opérations chirurgicales, les erreurs sont irréversibles, sauf sur des corps virtuels. L'apprentissage virtuel constitue donc une coopération entre un apprenti et un entraîneur réel ou virtuel. Le but de l'apprenti est de réaliser un certain nombre de tâches définies par l'entraîneur. Ce dernier évalue les performances de l'apprenti en tenant en général compte du temps de réalisation. Il peut paramétrer l'apprentissage de façon à rendre la réalisation plus ou moins difficile, selon les objectifs de l'apprentissage et le niveau de l'apprenti.
\\

Plusieurs apprentis peuvent coopérer dans le même environnement virtuel. De tels environnements sont appelés Environnements Virtuels Collaboratifs (EVC). Qu'ils soient destinés à l'apprentissage ou non, les EVC doivent permettre la collaboration d'utilisateurs physiquement présents au même endroit (e.g grâce à un dispositif immersif de type CAVE\footnote{Dispositif sous forme de salle à 3, 4, 5 ou 6 murs donnant l'impression d'être plongé dans l'environnement virtuel 3D.}), ou bien répartis sur des sites distants. Certaines applications d'apprentissage impliquent inévitablement un travail en équipe. Les tâches de co-manipulation d'objets sont les plus classiques, telles que le déplacement d'objets lourds, ou les tâches de maintenance complexes.
\\

Les EVC pour l'apprentissage impliquent donc une collaboration verticale (entraîneur-apprenti) et une collaboration horizontale (entre les apprentis). Un apprenti doit prendre conscience des directives et des conseils donnés par l'entraîneur, qui doit à lui-même avoir un retour de l'apprenti pour pouvoir évaluer ses performances et comprendre ses difficultés. Les apprentis collaborant doivent quant à eux prendre conscience mutuellement de la présence des uns et des autres, et des opérations qu'ils exécutent. Il n'est par exemple pas souhaitable de ne pas représenter des utilisateurs distants sous forme d'avatars, car les transformations opérées dans l'environnement ne seraient pas compréhensibles et des opérations telles que la co-manipulation seraient difficiles à réaliser sans retour visuel de la posture d'un co-manipulateur. Plus formellement, la \textbf{prise de conscience} peut être définie comme le fait d'avoir une compréhension complète de l'environnement, des personnes qui y travaillent et des interactions que ces personnes ont entre elles et avec l'environnement \cite{survey}. Elle est rendue possible grâce à l'utilisation de métaphores, qui consistent à faire appel à l'imagination ou à la culture générale pour donner une compréhension instantanée d'un événement ou d'un fait. Par exemple, l'utilisation d'avatars humains pour représenter les autres utilisateurs est une métaphore qui exploite le fait qu'il semble naturel qu'un utilisateur soit un humain pouvant se déplacer et interagir comme un vrai humain.
\\

Nous nous proposons d'étudier un système d'apprentissage en EVC dans lequel l'entraîneur a la possibilité de modifier les paramètres de l'environnement et d'intervenir en tant que "super utilisateur", c'est-à-dire de collaborer avec un apprenti comme le ferait un autre apprenti "normal" dans l'EVC, mais avec la possibilité d'utiliser des "pouvoirs" supplémentaires. Certaines idées seraient de lui laisser la possibilité d'éditer les caractéristiques du scénario en créant et en supprimant des objets, de se téléporter n'importe où dans l'environnement ou encore de prendre momentanément le contrôle de l'avatar de l'apprenti pour faire des démonstrations. Le schéma de principe de la figure \ref{fig:principle} représente l'ensemble des paramètres qu'il faut prendre en compte dans un tel contexte.
\\

\begin{figure}[!h]
\centering
\includegraphics[width=0.75\textwidth]{res/principe}
\caption{\label{fig:principle}Schéma de principe du système à étudier. \textbf{Rouge} : prise de conscience, \textbf{Bleu} : interaction avec l'environnement, \textbf{Vert} : scénario, \textbf{Rose} : relations sociales.}
\end{figure}

Dans une première partie, nous étudierons les différents moyens qu'il existe afin de faciliter la prise de conscience d'événements, de faits, d'instructions de l'entraîneur et de retour de l'apprenti. Nous enchaînerons sur le cas particulier des tâches collaboratives et nous présenterons les moyens à mettre en œuvre pour les synchroniser de manière cohérente entre tous les utilisateurs, dans le cas de sites distants. Ensuite, nous nous pencherons sur les moyens existant pour garantir des interactions entre utilisateurs respectueuses des normes sociales communément admises, notamment le respect d'une certaine zone de discrétion autour de chacun. Enfin, nous indiquerons comment automatiser l'enchaînement intelligent des tâches grâce à un scénario de supervision de l'apprentissage\footnote{A la différence de l'entraîneur qui contrôle des paramètres de l'environnement tels que la luminosité, l'utilisation de certaines métaphores ou la présence ou l'absence de certains objets, le scénario définit l'ordonnancement des tâches. Il peut pour cela activer ou désactiver certaines commandes, dont celles de l'entraîneur. L'entraîneur garde un contrôle sur le scénario en tant qu'éditeur de celui-ci.}.

\section{Prise de conscience}

En EV collaboratif ou non, il est essentiel de prendre conscience des événements extérieurs, qu'ils soient directement liés aux tâches de l'utilisateur ou pas. La prise de conscience se fait principalement à l'aide de métaphores. On distingue notamment deux types de prises de conscience~: la prise de conscience d'événement ou de faits généraux qui ne sont pas directement liés à une tâche à réaliser en particulier et la prise de conscience destinée à faciliter un tâche donnée.

\subsection{Prise de conscience d'événements}
La prise de conscience des événements se déroulant dans un EV à pour objectif de ne pas perdre les utilisateurs, qui doivent comprendre ce qu'il se passe autour d'eux. Quelques fois, cela peut même avoir une incidence sur les tâches à réaliser. Par exemple, les échanges d'avatars de l'article \cite{avatars} sont importants à prendre en compte pour l'utilisateur car il faut successivement demander de l'aide à des experts précis qui peuvent changer d'avatars plusieurs fois au cours de la simulation. Cependant, ce genre d'événements pouvant se produire n'importe quand et sans raison particulière, il ne peut pas être classé dans les facilitations de tâches (voir section \ref{subsec:facilitation}) car il n'est pas destiné à guider l'utilisateur.
\\

Les faits et événements peuvent être regroupés en différentes catégories (voir \cite{survey})~:
\begin{itemize}
	\item \textbf{les utilisateurs~:} il faut pouvoir retranscrire leurs activités. Pour cela, les supports des métaphores sont leurs avatars. Un cas d'usage serait le fait de mettre en évidence un avatar qui a un rôle particulier dans l'environnement, par le moyen d'une icône placée au-dessus de lui par exemple.
	\item \textbf{l'environnement virtuel~:} des objets ou des zones de la scène peuvent se caractériser par leur état. Dans certaines applications, certains objets sont manipulables et d'autres non. Il peut alors être intéressant de coder cette information par un code couleur.
	\item \textbf{les interactions~:} lorsqu'un utilisateur interagit avec un objet, il peut être utile de représenter cette information par un lien entre l'utilisateur et l'objet.
	\item \textbf{l'environnement physique~:} il ne faut pas oublier que les utilisateurs évoluent avant tout dans un environnement réel constitué d'obstacles, par exemple les murs dans un système CAVE ou les autres utilisateurs. A défaut de pouvoir éviter les collisions, Il faut au moins diminuer les risques. Une possibilité est d'afficher un message de prévention lorsqu'un utilisateur est trop prêt d'un mur, ou une barrière virtuelle destinée à dissuader l'utilisateur, comme présenté sur la figure \ref{fig:barrier}.
	\item \textbf{Les erreurs internes~:} certaines erreurs du système peuvent introduire des incohérences dans l'EV. C'est notamment le cas lors de problèmes de réseau pour un EVC~: si le système chargé de gérer un objet ou un avatar particulier ne communique plus de données, les interactions qu'auraient alors les utilisateurs avec cet avatar ou cet objet seraient incohérentes. Il peut y avoir aussi un déphasage entre ce que voient deux utilisateurs différents. Dans ces deux cas, il est important de faire prendre conscience de l'anomalie, en gelant l'objet par exemple.
\end{itemize}

\begin{figure}
\centering
\includegraphics[width=1\textwidth]{res/barrier}
\caption{\label{fig:barrier}Barrière de dissuasion pour éviter une collision avec le mur réel \cite{survey}.}
\end{figure}

Quelque soit le type de métaphore à mettre en œuvre, il faut toujours faire un compromis entre la qualité de la métaphore et son coût. La qualité d'une métaphore se mesure par sa capacité à transmettre une information correcte, compréhensible et complète, ainsi que par son influence sur le sentiment d'immersion éprouvé par les utilisateurs. Le coût inclut bien sûr la consommation de ressources, mais se caractérise surtout par la distraction inutile que peut introduire une métaphore, ou l'encombrement de la scène. Par exemple, dans le cas d'un objet vu sous différents états selon les utilisateurs à cause de problèmes liés au réseau, une solution consiste à faire apparaître à côté de l'objet un fantôme par état différent \cite{survey}. Cependant, faire apparaître trop d'états peut encombrer l'espace, ce qui n'est pas souhaitable.
\\

Un exemple qui montre bien les différents niveaux de métaphores privilégiant soit certains critères de qualité, soit un faible coût est celui de l'échange d'avatars de \cite{avatars}. Une des expériences présentées consiste à tester différentes métaphores permettant de prendre conscience d'un échange d'avatars en tant que témoin extérieur à l'échange. Le témoin doit réaliser une séquence d'opérations de maintenance sur une voiture. Certaines opérations requièrent l'expérience d'un expert incarnant un avatar. Il y a plusieurs experts à appeler au cours de la simulation et ces derniers échangent régulièrement leurs avatars. Pour faciliter la compréhension, chaque expert est associé à une couleur. Trois métaphores différentes sont testées~:
\begin{enumerate}
	\item \textit{Flickering}~: chaque avatar impliqué dans l'échange clignote en prenant la couleur de l'expert qui le contrôle, puis en prenant la couleur du nouvel expert.
	\item \textit{Ghosts}~: un fantôme de la couleur de l'expert apparaît à côté de l'avatar d'origine et se déplace jusqu'à l'avatar de destination.
	\item \textit{Popup}~: une simple popup apparaît et indique quel échange a lieu.
\end{enumerate}

La vidéo \texttt{http://youtu.be/Yu4YpGzKXes} montre un exemple d'échange pour chaque métaphore. Les critères de qualité et de coût ont étés évalués par le moyen d'un questionnaire, sur une population de test composée de 54 participants divisé en trois groupes (un pour chaque métaphore). Chaque critère est évalué par une ou plusieurs affirmations (e.g "La métaphore est facile à comprendre" ou "La métaphore distrait de la tâche") notées par un degré de satisfaction allant de 1 à 5. les résultats révèlent entre autres que même si \textit{Ghosts} est jugée de bien meilleure qualité que \textit{Popup} sur tous les critères, \textit{Popup} est la métaphore qui donne le meilleur temps d'exécution des tâches. \textit{Ghosts} est aussi utilisée dans une autre expérience de l'article, qui compare des métaphores représentant un échange d'avatars dans lequel l'utilisateur est impliqué. Elle est alors considérée par une partie des utilisateurs comme étant trop distrayante, ce qui rentre dans les critères de coût.
\\

Les compromis à faire dépendent beaucoup du type d'événement ou de fait à représenter. Pour apporter des informations sur un objet de l'EV, une bonne solution consiste à jouer sur sa couleur ou sa transparence, car cela n'encombre pas l'EV et permet de bien identifier quel objet est concerné. La difficulté et alors de choisir une couleur ou un degré de transparence qui n'altère pas la perception de l'environnement. Par exemple, il n'est pas souhaitable de faire disparaître complètement un mur occultant une zone d'intérêt, car cela risque de faire oublier la présence du mur. Il vaut mieux en rendre un pan moyennement transparent. Dans le cas de la remontée d'erreurs internes ou d'événements de faible importance, il semble à priori plus souhaitable d'avoir recours à des popups discrètes plutôt que d'encombrer l'EV qui sert de support direct aux informations plus importantes.

\subsection{Facilitation de tâches}
\label{subsec:facilitation}
%Show-Through techniques.
%Exchange of avatars.
Lorsqu'un utilisateur doit effectuer une tâche précise, par exemple atteindre une zone cible, il peut être guidé au moyen de métaphores. Ces indications ont pour but d'améliorer la performance d'un utilisateur ou de le diriger plus rapidement vers les points d'intérêt plutôt que de le laisser perdre du temps en cherchant par lui-même.
\\

Certains guidages ont un but purement didactique, c'est à dire qu'ils s'utilisent durant une phase d'entraînement pour apprendre à l'utilisateur comment effectuer une tâche. Un bon exemple est celui qui est cité dans l'article \cite{show-through}, où un entraîneur montre à un apprenti des pièces de moteur de voiture en les mettant en évidence\footnote{La technique est alors un peu particulière car elle consiste simplement à rendre invisibles ou transparents les obstacles qui occultent la pièce du champ de vision de l'apprenti.}. L'apprenti subit ensuite une phase d'évaluation au cours de laquelle il tente de retrouver les pièces successivement montrées sans avoir recours à la mise en évidence. D'autres guidages sont inhérents à la tâche à effectuer et le fait de les enlever perdrait l'utilisateur, même très expérimenté. Un exemple est celui qui est reporté dans l'article \cite{3-hand}, qui montre une technique de manipulation d'objet avec 6 Degrés De Liberté (DDL) à base de 3 points de contact. Ces points sont représentés par des boules rouges. Leur absence empêcherait d'avoir un repère spatial pour maîtriser correctement la manipulation.
\\

Les métaphores de guidage indiquent en général soit directement un objet ou une zone cible (par mise en évidence), soit la direction vers la cible. Dans tous les cas, Le critère recherché permettant d'évaluer la métaphore est son efficacité, c'est à dire sa capacité à rendre la tâche plus facile. Les paramètres que l'on recherche à minimiser sont le temps d'exécution de la tâche et le niveau de stress ou de fatigue que la métaphore induit. Ces critères sont différents de ceux qui permettent d'évaluer une métaphore représentant un événement ou un fait non directement corrélé à la tâche~: ce que l'on cherchait à minimiser, c'était la distraction ou l'encombrement qu'une métaphore induisait, ce qui pouvait effectivement gêner l'utilisateur dans le cadre de l'exécution d'une tâche "plus importante" que ce qui se passe autour. Dans le cas d'une métaphore de guidage, la distraction est a priori petite par rapport à la concentration induite. Il est plus important de vérifier que cette concentration n'est pas accompagnée d'effets de bord. Par exemple, \cite{show-through} teste l'influence de l'absence de métaphore pour mettre en évidence les objets, ce qui oblige l'apprenti à se déplacer jusqu'à l'entraîneur pour regarder par-dessus son épaule. Ceci introduit une gêne due à la proximité (voir la section \ref{sec:social}), ce qui n'est pas souhaitable.
\\

Dans le cas de métaphores de guidage introduites par un entraîneur, la perception que celui-ci a de son apprenti et du contexte dans lequel celui-ci se trouve est également à prendre en compte. En effet, l'entraîneur peut vouloir adapter dynamiquement la métaphore pour rendre la tâche plus aisée ou au contraire plus dure, selon les performances de l'apprenti. Il est également possible d'envoyer des métaphores visuelles permettant de donner à l'apprenti des indications sur ses performances. Il faut alors représenter les informations dont à besoin l'entraîneur. Un cas d'usage est donné dans \cite{thesis} (section 2)~: un apprenti est immergé dans un EVC où il doit trouver des cibles. L'entraîneur est quant à lui en face d'une carte interactive de l'EVC sur laquelle il peut observer la cible, l'utilisateur, son champ de vision et les métaphores de guidage testées unes à unes~: un ensemble de flèches traçant le chemin, une boussole accompagnant l'apprenti et une source de lumière provenant de la cible. L'entraîneur peut zoomer sur la carte et même emprunter le point de vue de l'apprenti. Il peut lui envoyer des signaux de couleur pour lui indiquer s'il se dirige dans la bonne ou la mauvaise direction. Il peut aussi adapter les paramètres de la métaphore de guidage, par exemple en ajoutant des flèches pour la première métaphore testée. La figure \ref{fig:light-source} montre un exemple de vue de l'apprenti (à gauche) et de l'entraîneur (à droite). Il n'y a pas eu de comparaison de différentes métaphores dans ce cadre.

\begin{figure}
\centering
\includegraphics[width=1\textwidth]{res/light_source}
\caption{\label{fig:light-source}Éclairage d'un chemin et assombrissement des alentours \cite{thesis}. Vue de l'apprenti (à gauche) et de l'entraîneur (à droite).}
\end{figure}

\section{Interagir avec l'environnement}

La majorité des applications de RV introduisent la possibilité d'interagir avec les objets de la scène, ce qui sert à l'accomplissement de t\^aches. L'interaction la plus classique consiste à manipuler des objets, par exemple pour les transporter ou changer leur position.

\subsection{Manipulation d'objets}
\label{subsec:manipulation}
La manipulation d'objets en coopération est une opération qui met en jeu des interactions complexes entre les utilisateurs et l'objet manipulé. D'une part, il faut que tous les utilisateurs aient une bonne perception de l'objet et des points de contacts impliqués pour leur interaction. D'autre part, chaque utilisateur doit avoir une bonne perception de l'influence des autres utilisateurs sur l'objet manipulé. Dans la vraie vie, ces informations sont transmises par le retour des forces, par exemple dans le cas du déplacement d'un meuble lourd, les utilisateurs ressentent les forces exercées par chaque acteur. En EVC, le retour de force n'est possible qu'avec certains appareils. Lorsque cela est nécessaire, ces informations sont retranscrites sous forme de métaphores visuelles particulières représentant les interactions et leurs paramètres (e.g intensité et direction de la force). Comme la manipulation en coopération est un problème d'EVC, il faut gérer la communication des informations entre chaque utilisateur, ainsi que la synchronisation et la cohérence vis-à-vis de l'état de l'environnement vu par chaque utilisateur, qui opèrent potentiellement sur des terminaux différents.

\subsubsection{Exploitation des 6DDL}
L'un des problèmes les plus étudiés en manipulation d'objet est l'exploitation des 6DDL (transitions et rotations selon les trois axes du repère 3D de l'objet). En effet, la saisie d'objets se fait la plupart du temps avec des appareils à un seul point de contact, ce qui est différent de la main dans le monde réel, car la main permet de définir une multitude de points et de surfaces de contacts. Ainsi, un unique utilisateur manipulant un objet ne peut établir que deux points de contact en même temps (un par main). Ces points définissent alors une droite autour de laquelle il est impossible de tourner (l'image d'une droite par une rotation autour d'elle même est elle même). Seuls 5 DDL sont alors possibles. Ceci ne permet pas d'avoir d'interactions naturelles avec les objets manipulés. Une solution à ce problème est proposée par \cite{3-hand}. Elle consiste à définir trois points de contacts non alignés, rendant ainsi possible l'exploitation des 6DDL. Cependant, cette manipulation requiert la coopération de deux utilisateurs au moins. Une alternative est proposée par \cite{thesis} (section 3). Celle-ci consiste à définir sept points de contact. Ces points sont en réalité décorrélés de l'objet et placé sur un outil, le \textit{7-Handle}, constitué d'un triangle. Les sept points de contact sont les sommets du triangle (points principaux), les milieux des segments (points secondaires) et son centre de gravité (point tertiaire). L'outil est associé avec l'objet à manipuler en mettant en correspondance leur centre de gravité. La manipulation se fait alors en deux phases~:
\begin{enumerate}
	\item \textbf{Configuration~:} il est possible d'adapter la taille du \textit{7-Handle} et la position des points en fonction de l'objet à manipuler.
	\item \textbf{Manipulation~:} l'utilisateur peut manipuler les points du \textit{7-Handle}, chacun d'entre eux asservissant un point correspondant de l'objet. Il est possible de verrouiller un ou plusieurs points principaux, qui cessent alors de suivre le mouvement en adoptant une position fixe. Cela permet de compenser le manque d'utilisateurs et donc d'exploiter les 6DDL. Les points secondaires et le point tertiaire peuvent être utilisés à condition qu'aucun point adjacent ne soit déverrouillé. Dans le cas contraire, ces points sont désactivés (on ne peut plus les saisir mais ils ne sont pas bloqués). la figure \ref{fig:7-handler} permet de mieux comprendre le fonctionnement du \textit{7-Handle}.
\end{enumerate}

\begin{figure}
\centering
\includegraphics[width=0.5\textwidth]{res/7-handle}
\caption{\label{fig:7-handler}\textit{7-Handle} \cite{thesis}. (A) Tous les points de contact sont verrouillés (vert foncé), l'objet ne peut pas bouger. (B) Un point de contact est déverrouillé (vert clair), la rotation autour de l'axe opposé est possible. 2 points secondaires et le point tertiaire sont désactivés (rouge). (C) les rotations autour du point verrouillé sont possibles. (D) Tous les mouvements sont possibles (équivalent d'un contact à trois points).}
\end{figure}

\subsubsection{Prendre conscience de l'influence d'un coopérateur}
Il est important de prendre conscience de l'action d'un coopérateur lors d'une manipulation, car cela permet d'adapter sa propre interaction en conséquence. Un moyen simple de représenter la force exercée par un utilisateur sur un objet est de représenter le vecteur correspondant, avec pour origine le point de contact concerné. Dans certains cas, ce point de contact n'est pas sur l'objet (e.g cas du \textit{7-Handle} \cite{thesis}), ou l'utilisateur contr\^ole ce point de contact au moyen d'un pointeur, la main réelle n'est alors pas en contact direct avec l'objet 3D. Il est donc nécessaire de montrer quel utilisateur contr\^ole quel point de contact. Cela peut se faire au moyen d'un pointeur virtuel relié au point de contact et indiquant la direction de l'opérateur ainsi que son identité (par un code couleur), comme c'est le cas dans \cite{3-hand} (voir figure \ref{fig:3-hand}). La proximité entre l'appareil et le point de contact est ici également représentée par un code couleur (vert si l'appareil est éloignée, rouge s'il est proche). En effet, une main éloignée du point de contact créé beaucoup d'instabilités. 

\begin{figure}
\centering
\includegraphics[width=0.5\textwidth]{res/3-hand}
\caption{\label{fig:3-hand}Points de contact et pointeurs d'utilisateur \cite{3-hand}.}
\end{figure}

\subsection{Interactions coopératives~: un problème de synchronisation}

La manipulation d'objets n'est pas le seul moyen d'interagir  avec l'environnement. Il est en effet possible d'écrire sur certains objets pour utiliser une communication écrite, utile si tous les utilisateurs ne disposent pas d'appareils de restitution sonore \cite{survey}. Il est aussi possible d'interagir de manière plus surréaliste, en changeant la couleur des objets, en en créant et en en détruisant, ou encore en déplaçant des murs.
\\

Quelque soit le type d'interaction, la gestion de la coopération ne peut pas se passer de mécanismes de synchronisation. En effet, la transmission des événements sur un réseau peut conduire à des ordres différents de réception et donc à des incohérences entre les états de chaque processus. Dans le cas des EVC, il existe deux possibilités afin de transmettre le changement d'état d'un objet sur le réseau~:
\begin{enumerate}
	\item le processus responsable du changement d'état diffuse des copies de l'objet modifié ;
	\item le processus responsable du changement d'état diffuse les opérations qui ont conduit au changement d'état, afin qu'elles soient à leur tour appliquées sur chaque copie locale de l'objet.
\end{enumerate}

En matière de synchronisation des collaborations en EVC, on distingue trois niveaux \cite{margery}~:
\begin{enumerate}
	\item Il n'y a pas d'interactions possibles entre les utilisateurs et l'environnement.
	\item Seules des interactions individuelles sont possibles.
	\item Des interactions collaboratives sont possibles. On distingue alors deux sous cas~: (3.1) seules des interventions indépendantes sont permises en simultané (e.g déplacement et changement de la couleur) ou (3.2) le système gère les interventions interdépendantes (e.g en calculant la couleur moyenne lors d'un changement de couleur).
\end{enumerate}

Dans le premier cas, il n'y a évidement pas besoin de mécanismes de synchronisation. Dans le deuxième, il faut pourvoir les objets de verrous qui empêchent l'intervention de plus d'une personne sur un objet. C'est une technique défensive, qui permet d'éviter des interactions incohérentes sur un même objet, par exemple deux changements de couleurs divergents simultanés. Le troisième cas est traité dans l'article \cite{margery}. Il faut garantir deux propriétés~:
\begin{enumerate}
	\item Tous les processus doivent s'accorder sur l'ordre d'exécution des opérations sur un même objet.
	\item Tous les processus doivent s'accorder sur la simultanéité des opérations sur un même objet, c'est à dire que si un processus considère que deux opérations ont eu lieu simultanément, alors tous les processus doivent considérer la même chose. Cette propriété est utile pour le cas 3.2.
\end{enumerate}

Avant tout, il faut définir ce qu'est une opération sur un objet. L'article \cite{margery} la définit comme étant le changement de valeur d'un gestionnaire d'interaction (GI). Un GI est matérialisé dans l'EV par une poignée ou une boule par exemple. En particulier, les points de contact sont des GI permettant de changer les coordonnées d'un point. D'autres GI peuvent par exemple permettre de changer la valeur de la couleur ou de la transparence d'un objet. Ainsi les opérations peuvent être associées à des événements ordonnés dans le temps.
\\

La première propriété est garantie à l'aide d'une contrainte qui doit être imposée sur les messages échangés sur le réseau et dont se charge l'objet concerné~: il faut que les messages soient diffusés en ordre complet, c'est à dire que tous les processus les reçoivent dans le même ordre. Si les messages sont les opérations effectuées, alors elles sont prises en compte dans le même ordre par toutes les fonctions de transformation qui sont les mêmes pour tous les processus. Sauf cas (très) exceptionnel, ces fonctions sont déterministes et donnent donc le même résultat pour la même séquence d'opération. Si les messages sont des copies de l'objet, alors la cohérence entre les processus est obtenue de manière évidente.
\\

La deuxième propriété s'obtient grâce à un mécanisme d'inscription / désinscription au moment où un utilisateur commence à interagir avec un objet (resp. termine son interaction). A chaque exécution d'opération, l'objet considère que tous les utilisateurs inscrits sont en activité simultanée et opère d'abord la diffusion d'un message contenant le nombre d'inscrits. Ensuite, à chaque opération effectuée, la valeur du GI correspondant est à son tour diffusée. Chaque processus attend donc le nombre d'opérations correspondant au nombre reçu au préalable, avant de calculer la transformation résultante. Si un utilisateur reste trop longtemps "détenteur" d'un GI sans pour autant réaliser d'interaction, la valeur du GI est considérée constante et un signal spécial est diffusé afin de ne pas faire attendre inutilement les processus.

\section{Aspects sociaux}
\label{sec:social}
%Important and short (1p)

Comme vu en section \ref{subsec:facilitation}, la gêne induite par une métaphore est à minimiser. En EVC immersif, il existe une gêne particulière liée à la position des acteurs les par rapport aux autres~: chaque individu définit une zone "intime" autour de lui, dont le rayon varie entre 15cm et 40cm selon les personnes. En règle générale, si une personne pénètre cette zone, cela provoque une réaction de l'individu, qui va du simple recul à un énervement. Cette notion a été introduite par Edward T. Hall dans l'ouvrage \cite{proxemics}. Cette conception de l'espace s'appelle la proxémique. Elle est mise en jeu si deux acteurs physiques se retrouvent dans le même espace immersif.
\\

En EVC, et particulièrement dans les applications d'apprentissage, il existe plusieurs cas qui impliquent une forte proximité physique entre deux acteurs~: un entraîneur peut avoir besoin de prendre le point de vue se son apprenti si celui-ci demande de l'aide, un apprenti lui-même peut avoir besoin d'observer son entraîneur lors d'une démonstration, deux coopérateurs peuvent avoir besoin de manipuler un même petit objet en même temps... en guise d'exemple, l'article \cite{show-through} présente un cas d'usage mettant en jeu d'une part un apprenti devant apprendre les positions de pièces dans un moteur de voiture, et d'autre part son entraîneur qui lui montre lesdites pièces. Dans certains cas, l'apprenti doit observer par dessus l'épaule de l'entraîneur, ce qui provoque effectivement une gêne pour ce dernier.
\\

Pour le problème de la manipulation, la solution est d'utiliser des points de contact distants de l'objet (voir la section \ref{subsec:manipulation}). Pour le problème de l'observation, la solution au problème consiste à utiliser un pointeur projetant un rayon de lumière virtuel pour mettre en évidence l'objet. Comme la nécessité de regarder par dessus l'épaule est en général due à un obstacle qui bloque le champ de vision, le rayon doit effacer partiellement l'obstacle, comme cela est présenté dans \cite{show-through}. Cette technique n'améliore pas l'efficacité de l'apprentissage, mais limite au moins la gêne.

\section{Scénario}
%TODO : bien comparer avec l'existant (de manière concise) pour expliquer en quoi #SEVEN est mieux (reprendre l'article)
En EVC, les utilisateurs ont en général un but à atteindre qui nécessite l'exécution de plusieurs tâches successives. Cependant, tout ne doit pas nécessairement s'opérer de manière linéaire. L'ensemble des utilisateurs peut se scinder en plusieurs groupes qui réaliseront des tâches en parallèle et des choix peuvent être offerts entre plusieurs tâches possibles... ce qui génère des embranchements complexes. On appelle cela un scénario, qu'il faut formaliser afin de gérer efficacement l'enchaînement des tâches. Ainsi, le cycle de vie d'une tâche est constitué des étapes successives "définition, exécution, conséquence". Pour illustrer, considérons un scénario simple constitué de deux tâches~: un utilisateur doit placer une pièce sur un support, puis lui appliquer des transformations. Le moteur de scénario prépare d'abord les commandes pour la première tâche (définition)~: des GI de manipulation (haut, bas, gauche, droite, en avant, en arrière) sont mis en place pour déplacer la pièce à l'aide d'une machine par exemple. Puis l'opérateur exécute les commandes unes à unes afin de placer la pièce sur le support (exécution). Une fois la fin le but atteint, le système désactive les GI (conséquence) et prépare les commandes pour la tâche suivante (définition) et ainsi de suite.
\\

Les scénarios sont souvent modélisés sous forme de machine à états \cite{state-machine}. Les états représentent chacun une tâche et les transitions sont gardées par les conditions de fin de tâche. Cependant, cette représentation a l'inconvénient de ne pas définir directement la notion d'états courants\footnote{pluriel~: dans un scénario il peut y avoir plusieurs états courants car des tâches peuvent être effectuées en parallèle.}. Pour cela il faut avoir recours à des visiteurs du graphe. D'autres modèles se basent sur les réseaux de Petri, comme \#SEVEN \cite{seven}, car ils ont l'avantage de fournir la notion d'états courants grâce aux tokens. Un exemple simple permettant de comprendre la signification exacte des tokens consiste à considérer que chaque token représente l'un des terminaux physiques impliqués dans l'application collaborative. Cela permet de paralléliser l'exécution du scénario en fournissant à chaque terminal des actions différentes. Par exemple, lors d'une opération d'assemblage de deux pièces, l'un des terminaux permettra de déplacer une seule des deux pièces et réciproquement. Quant aux places du réseau de Petri, elles représentent les tâches du scénario et les transitions représentent les événements permettant le passage à une tâche suivante (complétion de la tâche précédente). \#SEVEN introduit en plus la notion de capteurs et d'effecteurs, qui sont attachés aux transitions~: le capteur d'une transition écoute l'environnement en attendant la validité de la condition de fin de tâche (e.g la pièce a atteint son support). Une fois celle ci validée, il active la transition qui fait passer les tokens aux états suivants, puis l'effecteur s'active en produisant les conséquences de l'action sur l'environnement (e.g désactiver les commandes devenues inutiles et activer celles qui correspondent aux états suivants).
\\

\#SEVEN utilise en réalité une hiérarchie de réseaux de Petri~: les places du réseau principal sont en fait des réseaux de Petri fils. En effet, une tâche peut elle même être décomposée en sous-tâches. Par exemple, le fait de déplacer une pièce au moyen des commandes \textit{haut, bas, gauche, droite, en avant, en arrière} peut être vu comme une succession en boucle de tâches correspondant chacune à l'une de ces commandes. Chaque tâche principale est ainsi décomposée en un réseau de Petri constitué de places initiales et de places finales. Lorsqu'un token atteint une place principale, celle-ci n'est pas immédiatement considérée atteinte. D'abord, le token est dupliqué sur les places initiales du sous-réseau. Lorsque les places finales sont toutes atteintes par un token, la place principale reçoit effectivement le token original.
\\

Ce modèle propose également une formalisation de la répartition des tâches entre les acteurs. Chacun d'entre eux est associé à un token. Chaque token est assigné à un ensemble d'actions possibles (les commandes activées), qui définissent ce que l'on appelle un rôle. Ainsi, chaque acteur hérite du rôle du token auquel il appartient. Les effecteurs peuvent modifier l'ensemble des actions qui caractérisent un token afin de faire évoluer les rôles.
\\

La vidéo \texttt{https://vimeo.com/104937822} illustre parfaitement \#SEVEN en action et permet de bien comprendre toutes ces notions. 

\begin{comment}
\section{Goals}

The user will have to achieve a set of tasks. They will be the pretext for testing different aspects of the coach presence and actions. What we want to evaluate through the tests are in general the global execution performance of the trainee and to what degree the ways the coach presence is represented are pleasant or at the contrary disturbing.

\paragraph{Directives} In order to tell to the user what is his next task, the coach will have to communicate with him. Three communication modes will be evaluated:
\begin{enumerate}
	\item oral communication;
	\item instructions written or drawn on a virtual support object (e.g, a board or a tablet);
	\item instructions written or drawn in a virtual menu that the user can open as a popup.
\end{enumerate}
The goal here is to evaluate the correlation between the execution time and performance and the communication way used.

\paragraph{Invasive aspects} The potentially social invasive metaphors have to be evaluated. To achieve this goal, a use case will be the coach demonstration step necessary for complex tasks. Four ways will be evaluated:
\begin{enumerate}
	\item the coach takes-over the trainee avatar, who can only see what happens but can't interact any more;
	\item the coach uses his own avatar;
	\item the coach uses his own avatar but only the interacting body parts are visible (typically the hands);
	\item The coach uses his own avatar but is not visible at all, however his contact points with the handled objects are highlighted (e.g, as red spots).
\end{enumerate}
Through this type of tests, we want to evaluate the degree of annoyance of the used metaphors.

\paragraph{Collaboration} Some collaborative tasks can be a support for the evaluation of their efficiency and execution time with respect to the way the coach is represented. Three metaphors can be evaluated:
\begin{enumerate}
	\item the avatar of the coach is visible;
	\item only the interacting body parts are visible;
	\item the coach is invisible but his contact points with the handled objects are highlighted.
\end{enumerate}

\paragraph{Awareness of the coach presence and power} During the dead times, it can be interesting to evaluate the trainee perception of the coach actions on the VE. Two types of coach actions must be considered:
\begin{enumerate}
	\item the coach interacts with an object of the VE, e.g he changes the position of an object;
	\item the coach changes the parameters of the application, e.g he changes the weather conditions.
\end{enumerate}

For the first type of actions, The same metaphors than for the collaboration tasks can be used. For the second type, four metaphors can be evaluated:
\begin{enumerate}
	\item The coach avatar casts a spell using a specific gesture and voice control. Such a multimodal command can be real, i.e the coach has to perform it in order to make a parameter change, or just a metaphor, i.e the coach doesn't perform it but his avatar moves and speaks automatically.
	\item A 3D animation is performed by the system. For example, a grey cloud can appear and move through the scene in order to indicate that the weather is now rainy.
	\item A popup indicating the change is displayed.
	\item No indication at all.
\end{enumerate}

Several perception aspects can be evaluated thanks to these tests: the annoyance and pleasant degrees and the execution time (some metaphors can capture the attention of the trainee for a quite long time).
\end{comment}

\section{Conclusion}

Nous nous sommes proposé d'étudier un système d'apprentissage en EVC. Nous avons montré que cela nécessitait de prendre en compte les problèmes liés à la prise de conscience des instructions de l'entraîneur pour l'apprenti et du retour de l'apprenti pour l'entraîneur, ainsi que des événements ayant lieu dans l'environnement, notamment les événements dus à l'intervention de l'entraîneur. Cette prise de conscience est rendue possible grâce à l'utilisation de métaphores qu'il faut évaluer selon l'influence sur la qualité et la rapidité d'exécution des tâches, l'impression d'immersion qu'elles procurent, ainsi que sur leur simplicité. En particulier, des métaphores notifiant des événements divers ne doivent pas distraire l'utilisateur de sa tâche principale et des métaphores visant la facilitation de tâches ne doivent pas induire de stress. Il faut aussi respecter les normes sociales qui s'imposent naturellement entre les utilisateurs afin de ne pas provoquer de gêne. Ainsi, l'utilisation de métaphores peuvent éviter les interactions rapprochées qui violeraient la zone d'intimité des utilisateurs.
\\

Les tâches collaboratives constituent un problème particulier qu'il s'agit de traiter. Nous nous sommes concentré sur la manipulation d'objets. Nous avons montré que cela nécessitait l'utilisation de métaphores spécifiques afin que chaque utilisateur soit conscient de l'influence des autres sur un objet manipulé~: la représentation des points de contact ainsi que des forces exercées. Pour renforcer le réalisme des manipulations, il faut pouvoir exploiter les 6DDL par le biais d'un outil spécifique, le \textit{7-Handle}, ou plus simplement par l'utilisation de 3 points de contact. Toujours dans un soucis de réalisme et d'utilisabilité, il est nécessaire d'assurer un retour synchrone de l'état de l'EVC entre tous les utilisateurs. cela peut se faire par un mécanisme d'inscription / désinscription des utilisateurs pour l'interaction avec un objet.
\\

Enfin, il a été montré comment superviser la succession des tâches d'apprentissage grâce à l'utilisation d'un scénario gérant la notion de rôles, qui peuvent être changés dynamiquement au cours de l'apprentissage.
\\

Cependant, la perception que l'apprenti a de son entraîneur "super-utilisateur" n'est pas encore bien étudiée. Beaucoup d'articles étudient les perceptions qu'ont des utilisateurs "égaux" entre eux, mais pas celle qu'implique la présence d'un super-utilisateur aux pouvoirs surnaturels, comme la téléportation ou la possibilité d'apparaître et de disparaître. L'article \cite{show-through} par exemple, n'étudie que le cas d'un entraîneur physiquement présent. Dans le cas d'un entraîneur représenté par un avatar, le problème de violation de l'espace intime reste à étudier. D'autres métaphores peuvent avoir un effet intrusif à priori. Par exemple, on peut imaginer que l'entraîneur prenne le contrôle d'un apprenti pour lui faire une démonstration, ou que des mains virtuelles apparaissent aux côtés de l'apprenti. De telles métaphores sont susceptibles d'introduire une gêne qu'il faut évaluer. Il faut veiller à ce que les pouvoirs de l'entraîneur "n'effraient pas" l'apprenti, en particulier sa faculté d'apparaître et de disparaître à chaque instant. Cela nécessite d'introduire des métaphores permettant à l'apprenti de comprendre un phénomène "surnaturel" dans l'environnement. Cela peut également permettre d'éviter des erreurs d'interprétation. Par exemple, le fait de voir disparaître un objet subitement peut être interprété comme une erreur interne, alors qu'il s'agit d'une action de l'entraîneur. Un dernier problème sera de faire en sorte que l'avatar de l'entraîneur permette bien d'identifier celui-ci et de ne pas le confondre avec celui d'un utilisateur "classique".

%Les métaphores permettant de guider l'entraîneur ne sont pas évaluées.
%En termes de solutions, il existe alors la possibilité de changer de point de vue virtuellement comme cela est présenté dans l'expérience de guidage de \cite{thesis} (section 2)
\bibliographystyle{alpha}
\bibliography{bibliography} 

\end{document}